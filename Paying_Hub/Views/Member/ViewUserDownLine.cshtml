@model MemberTreeViewModel

@{
    ViewData["Title"] = "Tree Structure";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<div class="row merged20 mb-4">
    <div class="col-lg-8 mb-3">
        <div class="d-widget">
            <div class="d-widget-title">
                <h4>View User Downline</h4>
            </div>

            <form class="row" asp-action="ViewUserDownLine" method="post">
                <div class="form-group col-md-12">
                    <div class="row align-items-center">
                        <label class="col-md-4 form-label">User Id</label>
                        <div class="col-md-8">
                            <input type="text" class="form-control" placeholder="Enter Login Id" id="userid" name="userId">
                        </div>
                    </div>
                </div>

                <div class="col-md-8 offset-4 mt-2">
                    <button type="submit" class="btn btn-primary btn-sm">Submit</button>
                    <button type="reset" class="btn btn-danger btn-sm">Reset</button>
                </div>
            </form>
        </div>
    </div>

    @if (Model != null)
    {
        <div class="legend-bar my-2 text-center">
            <img src="~/admin_assets/images/icon0.png" width="30" /> BLANK
            <img src="~/admin_assets/images/Icon0.png" width="30" /> SIGNUP
            <img src="~/admin_assets/images/Icon.png" width="30" /> TOPUP
        </div>

        <div class="tree-container">
            <partial name="_TreeNode" model="Model" />
        </div>
    }
</div>

<style>
    .tree-container {
        display: flex;
        justify-content: center;
        margin-top: 20px;
    }

        .tree-container ul {
            list-style: none;
            padding-left: 0;
            position: relative;
        }

            .tree-container ul.tree-level {
                display: flex;
                justify-content: center;
                padding-top: 20px;
            }

        .tree-container li {
            margin: 20px;
            position: relative;
            text-align: center;
        }

    .member-node {
        position: relative;
        display: inline-block;
        cursor: pointer;
    }

    .tooltip-content {
        position: absolute;
        top: 45px;
        left: 50%;
        transform: translateX(-50%);
        background: #f9f9f9;
        border: 1px solid #ccc;
        padding: 10px;
        z-index: 100;
        display: none;
        box-shadow: 0 0 10px rgba(0,0,0,0.2);
        font-size: 12px;
        white-space: nowrap;
    }

    .member-node:hover .tooltip-content {
        display: block;
    }

    .legend-bar img {
        margin: 0 10px;
    }
</style>